(function(e,t){typeof exports=="object"?module.exports=t(require("moment")):typeof define=="function"&&define.amd?define(["moment"],t):e.moment=t(e.moment)})(this,function(e){var t,n;return n={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},t=function(){function t(t,n){this.start=e(t),this.end=e(n)}return t.prototype.clone=function(){return e().range(this.start,this.end)},t.prototype.contains=function(e,n){return e instanceof t?this.start<=e.start&&(this.end>e.end||this.end.isSame(e.end)&&!n):this.start<=e&&(this.end>e||this.end.isSame(e)&&!n)},t.prototype._by_string=function(t,n,r){var i,s;i=e(this.start),s=[];while(this.contains(i,r))n.call(this,i.clone()),s.push(i.add(1,t));return s},t.prototype._by_range=function(t,n,r){var i,s,o,u,a;i=this/t,o=Math.floor(i);if(o===Infinity)return this;o===i&&r&&(o-=1),a=[];for(s=u=0;0<=o?u<=o:u>=o;s=0<=o?++u:--u)a.push(n.call(this,e(this.start.valueOf()+t.valueOf()*s)));return a},t.prototype.overlaps=function(e){return this.intersect(e)!==null},t.prototype.intersect=function(e){var n,r,i,s,o,u,a,f;return this.start<=(r=e.start)&&r<(n=this.end)&&n<e.end?new t(e.start,this.end):e.start<(s=this.start)&&s<(i=e.end)&&i<=this.end?new t(this.start,e.end):e.start<(u=this.start)&&u<=(o=this.end)&&o<e.end?this:this.start<=(f=e.start)&&f<=(a=e.end)&&a<=this.end?e:null},t.prototype.add=function(n){return this.overlaps(n)?new t(e.min(this.start,n.start),e.max(this.end,n.end)):null},t.prototype.subtract=function(e){var n,r,i,s,o,u,a,f;if(this.intersect(e)===null)return[this];if(e.start<=(r=this.start)&&r<(n=this.end)&&n<=e.end)return[];if(e.start<=(s=this.start)&&s<(i=e.end)&&i<this.end)return[new t(e.end,this.end)];if(this.start<(u=e.start)&&u<(o=this.end)&&o<=e.end)return[new t(this.start,e.start)];if(this.start<(f=e.start)&&f<(a=e.end)&&a<this.end)return[new t(this.start,e.start),new t(e.end,this.end)]},t.prototype.by=function(e,t,n){return typeof e=="string"?this._by_string(e,t,n):this._by_range(e,t,n),this},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.center=function(){var t;return t=this.start+this.diff()/2,e(t)},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)},t.prototype.diff=function(e){return e==null&&(e=void 0),this.end.diff(this.start,e)},t}(),e.range=function(r,i){return r in n?new t(e(this).startOf(r),e(this).endOf(r)):new t(r,i)},e.range.constructor=t,e.fn.range=e.range,e.fn.within=function(e){return e.contains(this._d)},e});